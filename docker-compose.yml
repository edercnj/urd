version: '1'
services:
  db:
    image: postgres:11.2-alpine
    volumes:
    # Volume dos dados
      - dados:/var/lib/postgresql/data
    networks:
      - banco
  urd:
    build:
    ports:
      - "8080:8080"
    depends_on:
      - elasticsearch
      - filebeat
      - graylog
      - db
    volumes:
      # Volume dos dados
      - logs:/data/logsgit
    networks:
  elasticsearch:
    image: "docker.elastic.co/elasticsearch/elasticsearch:6.7.1"
  filebeat:
    image: "docker.elastic.co/beats/filebeat:6.7.1"
  graylog:
    image: "graylog/graylog:3.0.1-1"
    depends_on:
      - elasticsearch